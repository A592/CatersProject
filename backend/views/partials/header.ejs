<link rel="stylesheet" href="/css/header.css">

<header>
    <div class="logo">
        <img src="/imgs/logo.png" alt="Caters Logo">
    </div>
    <nav>
        <a href="/home">Home</a>
        <a href="about.html">About Us</a>
        <a href="/restaurants">Restaurant</a>
        <a href="contact.html">Contact</a>
    </nav>
    <div class="cta-buttons">
        <% if (typeof user !== 'undefined') { %>
            <!-- Profile Section (Visible when logged in) -->
            <div class="profile-section">
                <img src="/imgs/profile-user.png" class="avatar" alt="Profile" id="profileButton" />
            </div>

            <!-- Profile Dropdown -->
            <div class="dropdown" id="profileMenu">
                <div class="profile-info">
                    <img src="/imgs/profile-user.png" class="avatar-large" alt="Profile" />
                    <div class="info">
                        <span><%= user.name %></span>
                        <small><%= user.email %></small>
                    </div>
                </div>
                <hr />
                <ul>
                    <li><a href=""><img src="/imgs/profile-user.png" alt="icon" /> View Profile</a></li>
                    <li><a href=""><img src="/imgs/setting.png" alt="icon" /> Account Settings</a></li>
                    <li><a href="/api/bookings/myOrders"><img src="/imgs/bell.png" alt="icon" /> My Orders</a></li> <!-- Updated this line -->
                    <li><a href=""><img src="/imgs/user-account.png" alt="icon" /> Switch Account</a></li>
                    <li><a href=""></a><img src="/imgs/customer-support.png" alt="icon" /> Help Center</a></li>
                    <li><a href="/auth/logout"><img src="/imgs/logout.png" alt="icon" /> Logout</a></li>
                </ul>
            </div>
        <% } else { %>
            <a href="/auth/sign-in" class="signin">Sign In</a>
            <a href="/auth/sign-up" class="signup">Sign Up</a>
        <% } %>
    </div>
</header>

<script>
    const profileButton = document.getElementById('profileButton');
    const profileMenu = document.getElementById('profileMenu');

    profileButton.addEventListener('click', function () {
        profileMenu.classList.toggle('open');
    });
</script>

