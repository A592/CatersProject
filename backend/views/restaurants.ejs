<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Restaurants</title>
    <link rel="stylesheet" href="/css/restaurant.css">
</head>
<%- include('partials/header') %>
<body>
    <div class="Rest-container">
        <h2 class="page-title">Our Restaurants</h2>

        <!-- Filter Section (Now placed above restaurants, below the title) -->
        <div class="filter-container">
            <form id="filterForm" action="/restaurants" method="GET">
                <label for="cuisineSelect">Filter by Cuisine:</label>
                <select id="cuisineSelect" name="cuisine">
                    <option value="">All</option>
                    <option value="Italian">Italian</option>
                    <option value="Indian">Indian</option>
                    <option value="Lebanese">Lebanese</option>
                    <option value="Japanese">Japanese</option>
                    <option value="American">American</option>
                </select>
                <button type="submit" class="btnfilter">Filter</button>
            </form>
        </div>

        <!-- Restaurant List Section -->
        <% if (restaurants.length === 0) { %>
            <p class="no-restaurant-message">No restaurants available at the moment.</p>
        <% } else { %>
            <ul class="restaurant-list">
                <% restaurants.forEach(restaurant => { %>
                    <li class="restaurant-item">
                        <div class="restaurant-img-container">
                            <img src="<%= restaurant.picture %>" alt="<%= restaurant.name %> picture" class="restaurant-img">
                        </div>
                        <div class="restaurant-info">
                            <h3 class="restaurant-name"><%= restaurant.name %></h3>
                            <p class="restaurant-cuisine"><strong>Cuisine:</strong> <%= restaurant.cuisine %></p>
                            <p class="restaurant-address"><strong>Address:</strong> <%= restaurant.address %></p>
                            <p class="restaurant-contact"><strong>Contact:</strong> <%= restaurant.contact %></p>
                            <a href="/restaurants/<%= restaurant._id %>/menu" class="btn btn-primary">Order Now</a>
                        </div>
                    </li>
                <% }); %>
            </ul>
        <% } %>
    </div>
</body>
<%- include('partials/footer') %>
</html>
